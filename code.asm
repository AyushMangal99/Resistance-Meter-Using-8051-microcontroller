START:	MOV R5,#00H
		MOV R6,#00H
		MOV R7,#00H
		MOV P1,#0FFH
		MOV P2,#0FFH
		SETB P3.7
		CLR P3.6
		SETB P3.6

GET: 	JB P3.2, GET
		CLR P3.7
		MOV A,P2
		ACALL CAL
		JMP START

CAL: 	MOV B,#10
		DIV AB
		MOV B,#2
		MUL AB
		MOV B,A
		MOV A,#50
		SUBB A,B
		MOV R0,B
		MOV B,A
		MOV R4,A
		MOV A,R0
		DIV AB
		MOV R5,A
		MOV A,B
		MOV B,#10
		MUL AB
		MOV B,R4
		DIV AB
		MOV R6,A
		MOV A,B
		MOV B,#10
		MUL AB
		MOV B,R4
		DIV AB
		MOV R7,A
		MOV A,R5
		MOV B,#10
		DIV AB
		MOV R4,A
		MOV R5,B
		MOV A,R7
		CALL FIND
		MOV B,R0
		MOV R3,B
		MOV A,R6
		CALL FIND
		MOV B,R0
		MOV R2,B
		MOV A,R5
		CALL FIND
		MOV B,R0
		MOV R1,B
		MOV A,R4
		CALL FIND
		JMP DISPLAY

FIND: 	MOV R0,#0C0H
		CJNE A,#0,MOVE1
		RET
MOVE1: 	MOV R0,#0F9H
		CJNE A,#1,MOVE2
		RET
 MOVE2: MOV R0,#0A4H
		CJNE A,#2,MOVE3
		RET
MOVE3: 	MOV R0,#0B0H
		CJNE A,#3,MOVE4
		RET
MOVE4: 	MOV R0,#99H
		CJNE A,#4,MOVE5
		RET
MOVE5: 	MOV R0,#92H
		CJNE A,#5,MOVE6
		RET
MOVE6:  MOV R0,#82H
		CJNE A,#6,MOVE7
		RET
MOVE7: 	MOV R0,#0F8H
		CJNE A,#7,MOVE8
		RET
MOVE8: 	MOV R0,#80H
		CJNE A,#8,MOVE9
		RET
MOVE9: 	MOV R0,#90H
		CJNE A,#9,MOVE10
MOVE10: RET

DISPLAY: SETB P3.3
		SETB P3.4
		MOV P1,R0
		ACALL DELAY
		CLR P3.3
		SETB P3.4
		MOV A,R1
		ANL A,#7FH
		MOV P1,A
		ACALL DELAY
		SETB P3.3
		CLR P3.4
		MOV P1,R2
		ACALL DELAY
		CLR P3.3
		CLR P3.4
		MOV P1,R3
		ACALL DELAY
		JMP START

DELAY: 	MOV R0,#6H
RETR: 	DJNZ R0, RETR
		RET
		END